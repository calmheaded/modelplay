(function(){"use strict";var e={2779:function(e,t,s){var i=s(1650),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"content"},[t("model-engine",{attrs:{width:e.width,height:e.height}})],1)])},o=[],a={name:"App",components:{},data(){return{width:"800",height:"800"}},methods:{test(){alert(1)}}},l=a,r=s(5440),c=(0,r.Z)(l,n,o,!1,null,null,null),h=c.exports,d=s(6044);const u={showLoading:e=>e.app.showLoading,getBlastVal:e=>e.app.blastVal,hasAnimate:e=>e.app.model,isActive:e=>e.isActive,info:e=>e.measure.info,pointsDistance:e=>e.measure.pointsDistance,parallelFacesDistance:e=>e.measure.parallelFacesDistance,facesAngle:e=>e.measure.facesAngle};var g=u;const m={model:null,showLoading:!1,blastVal:1,duxian:!1,ifplay:!1,wangge:!1,touming:!1,yidong:!1,yincang:!1,ifShowEdge:!0,edgeVal:100},p={ADD_MODEL(e,t){e.model=t},RESET_MODEL(e){e.model=null},DU_XIAN(e,t){e.duxian=t},TOU_MING(e,t){e.touming=t},WANGE_GE(e,t){e.wangge=t},YI_DONG(e,t){e.yidong=t},YIN_CANG(e,t){e.yincang=t},SHOW_LOADING(e,t){e.showLoading=!1},CHANGE_BLASTVAL(e,t){e.blastVal=t},RESET_BLASTVAL(e){e.blastVal=1},IF_SHOW_EDGE(e,t){e.ifShowEdge=t},CHANGE_EDGE_VAL(e,t){e.edgeVal=t}},f={showLoading({commit:e},t){e("SHOW_LOADING",!1)},changBlastVal({commit:e},t){e("CHANGE_BLASTVAL",t)},resetBlastVal({commit:e},t){e("RESET_BLASTVAL",t)}};var b={namespaced:!0,state:m,mutations:p,actions:f};const w={info:"无",pointsDistance:0,parallelFacesDistance:0,facesAngle:0,isActive:!1,showMeasureIInfo:!1},v={ShowMeasureInfo(e,t){e.showMeasureIInfo=t},IsActive(e,t){e.isActive=t},AddInfo(e,t){e.info=t},AddPointsDistance(e,t){e.pointsDistance=t},AddDistanceParallel(e,t){e.parallelFacesDistance=t},AddAngel(e,t){e.facesAngle=t},Reset(){w.pointsDistance=0,w.parallelFacesDistance=0,w.facesAngle=0,w.showMeasureIInfo=!1}},y={};var C={namespaced:!0,state:w,mutations:v,actions:y};i["default"].use(d.ZP);var M=new d.ZP.Store({modules:{app:b,measure:C},getters:g}),k=s(4841),L=s.n(k),S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"viewer"},[t("div",{staticClass:"model-wrapper",attrs:{id:"model-wrapper"}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],staticClass:"main_viewer",attrs:{id:"main_viewer","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),t("div",{staticClass:"side_menu_wrap",class:[e.isActive?"left0":"left200"]},[t("div",{staticClass:"side-menu"},[e._m(0),t("div",{staticClass:"btns"},e._l(e.btns,(function(s,i){return t("span",{key:i,class:[e.tabIndex==i?"active":""],on:{click:function(t){return e.backgroundTabClick(i)}}},[e._v(e._s(s))])})),0),e._m(1),t("div",{staticClass:"envMaps"},e._l(e.envMaps,(function(s,i){return t("el-image",{key:i,staticClass:"img",staticStyle:{width:"45px",height:"45px"},attrs:{src:s.url},on:{click:function(t){return e.SetEnvironment(s.name,s.backgroundIsEnvMap)}}})})),1),t("p",{staticClass:"label_row"},[t("span",[e._v("Show Edges")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.changeEdge},model:{value:e.ifShowEdge,callback:function(t){e.ifShowEdge=t},expression:"ifShowEdge"}})],1),e.ifShowEdge?t("div",{staticClass:"blast-slider"},[t("el-slider",{directives:[{name:"show",rawName:"v-show",value:e.showSlider,expression:"showSlider"}],attrs:{min:0,max:100},on:{change:e.edgeChange},model:{value:e.edgeVal,callback:function(t){e.edgeVal=t},expression:"edgeVal"}})],1):e._e(),e._m(2),t("div",{staticClass:"blast-slider"},[t("el-slider",{directives:[{name:"show",rawName:"v-show",value:e.showSlider,expression:"showSlider"}],attrs:{min:1,max:100},on:{change:e.blastChange},model:{value:e.blastVal,callback:function(t){e.blastVal=t},expression:"blastVal"}})],1),t("el-row",{staticClass:"row"},[t("span",[e._v("显示网格")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.changeWange},model:{value:e.wanggeValue,callback:function(t){e.wanggeValue=t},expression:"wanggeValue"}})],1),t("el-row",{staticClass:"row"},[t("span",[e._v("自动旋转")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.autoRotation},model:{value:e.rotationValue,callback:function(t){e.rotationValue=t},expression:"rotationValue"}})],1),t("p",{staticClass:"label_row"},[t("span",[e._v("模型操作 "+e._s(e.hasAnimate)+" ")])]),t("div",{staticClass:"items"},[t("span",{class:[e.ifduxian?"active":""],on:{click:e.changeDuxian}},[t("i",{staticClass:"icon iconfont",class:[e.ifduxian?"icon-quanbu":"icon-yanjing"]}),t("b",[e._v(e._s(e.ifduxian?"全显":"独显"))])]),t("span",{class:[e.dragMeshBtn?"active":""],on:{click:e.dragMesh}},[t("i",{staticClass:"icon iconfont icon-yidong"}),t("b",[e._v("移动")])]),t("span",{on:{click:e.reset}},[t("i",{staticClass:"icon iconfont icon-ic_fuwei"}),t("b",[e._v("重置 ")])]),t("span",{class:[e.MeasureisActive?"active":""],on:{click:e.celiang}},[t("i",{staticClass:"icon iconfont icon-chizi"}),t("b",[e._v("测量")])]),t("span",{on:{click:e.changeYincang}},[t("i",{staticClass:"icon iconfont icon-yincang"}),t("b",[e._v("隐藏")])]),t("span",{on:{click:e.changeTouming2}},[t("i",{staticClass:"icon iconfont icon-toumingdutiaojie"}),t("b",[e._v("透明 ")])])])],1),t("div",{staticClass:"switch",on:{click:e.switchleft}},[t("i",{staticClass:"icon iconfont",class:[e.isActive?"icon-zuojiantou-copy ":"icon-zuojiantou"]})])]),t("div",{staticClass:"controls"},[t("div",{staticClass:"animation-controls widget"},[t("div",{staticClass:"timeline"},[t("div",{staticClass:"timeline-wrapper"},[t("div",{staticClass:"track"},[t("div",{staticClass:"bar"}),t("div",{staticClass:"knob",on:{mousedown:function(t){return e.down()}}})])])]),e._m(3)])]),t("div",{staticClass:"controls1"},[t("div",{staticClass:"general-controls1"},[t("el-tooltip",{attrs:{placement:"top",content:"全屏"}},[t("div",{staticClass:"imgbtn"},[t("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:s(1626),alt:""}})])]),t("el-tooltip",{attrs:{placement:"top",content:"网格"}},[t("div",{staticClass:"imgbtn",class:[e.ifwangge?"active":""],on:{click:e.Wange}},[t("i",{staticClass:"icon iconfont",class:["icon-toumingdutiaojie"],staticStyle:{"font-size":"24px"}})])]),t("el-tooltip",{attrs:{placement:"top",content:"独显/全显"}},[t("div",{staticClass:"imgbtn",class:[e.ifduxian?"active":""],on:{click:e.Duxian}},[t("i",{staticClass:"icon iconfont",class:[e.ifduxian?"icon-yanjing":"icon-quanbu"],staticStyle:{"font-size":"24px"}})])]),t("el-tooltip",{attrs:{placement:"top",content:"透明"}},[t("div",{staticClass:"imgbtn",class:[e.iftouming?"active":""],on:{click:e.Touming}},[t("i",{staticClass:"icon iconfont",class:["icon-dibiaotouming"],staticStyle:{"font-size":"24px"}})])]),t("el-tooltip",{attrs:{placement:"top",content:"隐藏"}},[t("div",{staticClass:"imgbtn",class:[e.ifyincang?"active":""],on:{click:e.Yincang}},[t("i",{staticClass:"icon iconfont",class:["iconfont icon-yincang"],staticStyle:{"font-size":"24px"}})])]),t("el-tooltip",{attrs:{placement:"top",content:"移动"}},[t("div",{staticClass:"imgbtn",class:[e.ifyidong?"active":""],on:{click:e.Yidong}},[t("i",{staticClass:"icon iconfont",class:["icon-yidong"],staticStyle:{"font-size":"24px"}})])]),t("el-tooltip",{attrs:{placement:"top",content:"复位"}},[t("div",{staticClass:"imgbtn",on:{click:e.reset}},[t("i",{staticClass:"icon iconfont",class:["icon-reset"],staticStyle:{"font-size":"24px"}})])]),t("el-tooltip",{attrs:{placement:"top",content:"全屏"}},[t("div",{staticClass:"imgbtn",on:{click:e.fullScreen}},[t("i",{staticClass:"icon iconfont",class:[e.fullScreenBtn?"icon-quanping":"icon-quxiaoquanping"],staticStyle:{"font-size":"24px"}})])]),e.hasAnimate?t("el-tooltip",{attrs:{placement:"top",content:" 播放/暂停"}},[t("div",{staticClass:"imgbtn",class:[e.ifplay?"active":""],on:{click:e.PlayPause}},[t("i",{staticClass:"icon iconfont",class:[e.ifplay?"icon-zanting":"icon-playcircle"],staticStyle:{"font-size":"24px"}})])]):e._e(),t("el-button",{on:{click:e.exportGltf}},[e._v("gltf")])],1)]),e.MeasureisActive?t("div",{staticClass:"measureInfo"},[e.showMeasureIInfo?t("div",[t("span",[t("i",{staticClass:"icon iconfont icon-guanxianchangdu"}),t("b",[e._v(e._s(e.pointsDistance))])]),t("span",[t("i",{staticClass:"icon iconfont icon-jiaodu"}),t("b",[e._v(e._s(e.facesAngle))])])]):t("div",[t("span",[e._v(" "+e._s(e.info))])])]):e._e(),e._v(" (显是网格 透明 移动 隐藏 复位 （包括相机）) 比如 独显 全显 一个按钮两个状态 移动，测量一个状态 激活 （它的状态也是如此） 透明，隐藏没有激活状态 （它的状态也是如此） 那网格呢 ")])])},O=[function(){var e=this,t=e._self._c;return t("p",{staticClass:"label_row"},[t("span",[e._v("背景")])])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"label_row"},[t("span",[e._v("背景图片")])])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"label_row"},[t("span",[e._v("模型拆分")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"animation-controls__buttons"},[t("a",{staticClass:"control play fa pause",staticStyle:{display:"inline"},attrs:{href:"#","aria-label":"Next Animation"}}),t("div",{staticClass:"animation-timer control progress help",attrs:{"data-unit":"time"}},[t("p",{staticClass:"time"},[e._v("00:63")])]),t("div",{staticClass:"animation-list control has-menu active"},[t("p",{staticClass:"animation-name"},[e._v("Dead")]),t("div",{staticClass:"control-menu list"},[t("div",{staticClass:"animation__options"}),t("ul",{staticClass:"js-scrollable"},[t("li",{staticClass:"animation-item",attrs:{title:"Emote_Shout"}},[e._v("Emote_Shout")]),t("li",{staticClass:"animation-item selected",attrs:{title:"Dead"}},[e._v("Dead")])])])])])}];class j{constructor(e,t){this.x=e,this.y=t}Clone(){return new j(this.x,this.y)}}function x(e,t){return new j(e.x-t.x,e.y-t.y)}function E(e){return Math.round(parseFloat(e))}function I(e,t){e.style.display=t?"block":"none"}function F(e){let t=E(e.paddingTop)+E(e.paddingBottom),s=E(e.borderTopWidth)+E(e.borderBottomWidth),i=E(e.marginTop)+E(e.marginBottom);return t+s+i}function P(e){let t=E(e.paddingLeft)+E(e.paddingRight),s=E(e.borderLeftWidth)+E(e.borderRightWidth),i=E(e.marginLeft)+E(e.marginRight);return t+s+i}function G(e,t,s){let i=getComputedStyle(e),n=t-P(i),o=s-F(i);return{width:n,height:o}}function A(e,t,s){let i=document.createElement(e);return t&&(i.className=t),s&&(i.innerHTML=s),i}function D(e,t,s,i){let n=A(t,s,i);return e.appendChild(n),n}function R(e,t,s){if(e.getBoundingClientRect){let i=e.getBoundingClientRect();t-=i.left,s-=i.top}return window.pageXOffset&&window.pageYOffset&&(t+=window.pageXOffset,s+=window.pageYOffset),new j(t,s)}var T=s(216),U=s(7985);class z{constructor(e,t,s){this.x=e,this.y=t,this.z=s}Clone(){return new z(this.x,this.y,this.z)}Length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}MultiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}Normalize(){let e=this.Length();return e>0&&this.MultiplyScalar(1/e),this}Offset(e,t){let s=e.Clone().Normalize();return this.x+=s.x*t,this.y+=s.y*t,this.z+=s.z*t,this}}function B(e,t){return new z(e.x-t.x,e.y-t.y,e.z-t.z)}function N(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z))}class V{constructor(e,t,s,i){this.eye=e,this.center=t,this.up=s,this.fov=i}Clone(){return new V(this.eye.Clone(),this.center.Clone(),this.up.Clone(),this.fov)}}const W=1e-8;function H(e,t){return Math.abs(t-e)<W}function Z(e,t){return H(e.x,t.x)&&H(e.y,t.y)&&H(e.z,t.z)}function Y(e,t){return Z(e.eye,t.eye)&&Z(e.center,t.center)&&Z(e.up,t.up)}const K=1e-8,Q=.017453292519943;function J(e){return Math.abs(e)<K}const X={X:1,Y:2,Z:3};class _{constructor(e){console.log(e,"scene in ViewerGeometry"),this.scene=e,this.mainObject=null}GetMainObject(){return this.mainObject}SetMainObject(e){this.mainObject=e,console.log(this.mainObject,"this.mainObject"),this.mainObject.traverse((function(e){e.castShadow=!0})),this.scene.add(this.mainObject)}Clear(){this.ClearMainObject()}ClearMainObject(){console.log(this.mainObject,"this.mainObjectin ClearMainObject"),null!==this.mainObject&&(this.EnumerateMeshes((e=>{console.log(e,"mesh in EnumerateMeshes "),e.geometry.dispose()})),this.scene.remove(this.mainObject),this.mainObject=null)}EnumerateMeshes(e){console.log(this.mainObject,"this.mainObject11111"),null!==this.mainObject&&this.mainObject.traverse((t=>{t.isMesh&&(console.log(t,"obj in EnumerateMeshes "),e(t))}))}GetMeshIntersectionUnderMouse(e,t,s,i){if(console.log(e,t,s,i,"in GetMeshIntersectionUnderMouse"),null===this.mainObject)return null;if(e.x<0||e.x>s||e.y<0||e.y>i)return null;let n=new T.iMs,o=new T.FM8;o.x=e.x/s*2-1,o.y=-e.y/i*2+1,n.setFromCamera(o,t);let a=n.intersectObject(this.mainObject,!0);console.log(a,"iSectObjects");for(let l=0;l<a.length;l++){let e=a[l];if("Mesh"===e.object.type&&e.object.visible)return e}return null}GetBoundingSphere(e){let t=this.GetBoundingBox(e);if(console.log(t,"boundingBox11"),null===t)return null;let s=new T.aLr;return t.getBoundingSphere(s),s}GetBoundingBox(e){if(null===this.mainObject)return;let t=(new T.ZzF).setFromObject(this.mainObject);const s=new T.Pa4;return t.getCenter(s),console.log("查看几何体中心坐标",s),console.log(t,"boundingBox in GetBoundingBox"),t}}class q{constructor(e){this.scene=e,this.ExtraObject=null}AddObject(e){null===this.ExtraObject&&(this.ExtraObject=new T.Tme,this.scene.add(this.ExtraObject)),this.ExtraObject.add(e)}Clear(){null!==this.ExtraObject&&(this.ExtraObject.traverse((e=>{(e.isMesh||e.isLineSegments)&&e.geometry.dispose()})),this.scene.remove(this.ExtraObject),this.ExtraObject=null)}}function $(e,t,s){let i=t/s,n=i*i;return e*(n/(2*(n-i)+1))}function ee(e,t,s,i){let n=B(t,e).Normalize(),o=N(e,t),a=[];for(let l=0;l<s;l++){let t=i(o,l,s-1);a.push(e.Clone().Offset(n,t))}return a}class te{constructor(e,t,s,i){this.container=t,this.canvas=e,this.camera=s,this.callbacks=i,this.mouse=new se,this.clickDetector=new ie,this.onMouseClick=null,this.onMouseMove=null,this.canvas.addEventListener&&(console.log(this.canvas,"this.canvase111"),this.canvas.addEventListener("mousedown",this.OnMouseDown.bind(this))),this.container.addEventListener&&(this.container.addEventListener("mousemove",this.OnMouseMove.bind(this)),this.container.addEventListener("mouseup",this.OnMouseUp.bind(this)),this.container.addEventListener("mouseleave",this.OnMouseLeave.bind(this)))}GetFitToSphereCamera(e,t){if(J(t))return null;let s=this.camera.Clone();console.log(s,"fitCamera");let i=B(s.center,e);console.log(i,"offsetToOrigo"),s.eye=B(s.eye,i),s.center=e.Clone();let n=B(s.eye,s.center).Normalize();console.log(n,"centerEyeDirection");let o=this.camera.fov/2;this.canvas.width<this.canvas.height&&(o=o*this.canvas.width/this.canvas.height);let a=t/Math.sin(o*Q);return s.eye=s.center.Clone().Offset(n,a),console.log(s,"fitCamera2"),s}Update(){this.callbacks.onUpdate()}GetCamera(){return this.camera}SetCamera(e){this.camera=e}MoveCamera(e,t){function s(e,t,i,n){e.camera.eye=t.eye[n],e.camera.center=t.center[n],e.camera.up=t.up[n],e.Update(),n<i-1&&requestAnimationFrame((()=>{s(e,t,i,n+1)}))}if(null!==e){if(0===t||Y(this.camera,e))this.camera=e;else{let i=$,n={eye:ee(this.camera.eye,e.eye,t,i),center:ee(this.camera.center,e.center,t,i),up:ee(this.camera.up,e.up,t,i)};requestAnimationFrame((()=>{s(this,n,t,0)}))}this.Update()}}OnMouseDown(e){console.log(this,"this in OnMouseDown"),e.preventDefault(),this.mouse.Down(this.canvas,e),this.clickDetector.Start(this.mouse.GetPosition())}OnMouseMove(e){if(this.mouse.Move(this.canvas,e),this.clickDetector.Move(this.mouse.GetPosition()),this.onMouseMove){let t=R(this.canvas,e.clientX,e.clientY);this.onMouseMove(t)}if(!this.mouse.IsButtonDown())return;let t=this.mouse.GetMoveDiff();console.log(t,"movediff");this.mouse.GetButton()}OnMouseUp(e){if(this.mouse.Up(this.canvas,e),this.clickDetector.End(),this.clickDetector.IsClick()){let t=this.mouse.GetPosition();this.Click(e.which,t)}}OnMouseLeave(e){this.mouse.Leave(this.canvas,e),this.clickDetector.Cancel()}SetMouseClickHandler(e){this.onMouseClick=e}SetMouseMoveHandler(e){this.onMouseMove=e}Click(e,t){this.onMouseClick&&this.onMouseClick(e,t)}}class se{constructor(){this.buttons=[],this.curr=new j(0,0),this.prev=new j(0,0),this.diff=new j(0,0)}Down(e,t){console.log(e,t,"in Down"),this.buttons.push(t.which),console.log(this.buttons,"this.buttons"),this.curr=this.GetPositionFromEvent(e,t),this.prev=this.curr.Clone()}Move(e,t){this.curr=this.GetPositionFromEvent(e,t),this.diff=x(this.curr,this.prev),this.prev=this.curr.Clone()}Up(e,t){console.log(this.buttons,"this.buttons 1");let s=this.buttons.indexOf(t.which);console.log(s,"buttonIndex"),-1!==s&&this.buttons.splice(s,1),console.log(this.buttons,"this.buttons 2"),this.curr=this.GetPositionFromEvent(e,t)}Leave(e,t){this.buttons=[],this.curr=this.GetPositionFromEvent(e,t)}GetButton(){let{length:e}=this.buttons;return console.log(e,"length in GetButton"),0===e?0:this.buttons[e-1]}GetMoveDiff(){return this.diff}IsButtonDown(){return this.buttons.length>0}GetPosition(){return this.curr}GetPositionFromEvent(e,t){return R(e,t.clientX,t.clientY)}}class ie{constructor(){this.isClick=!1,this.startPosition=null}Start(e){this.isClick=!0,this.startPosition=e,console.log(this.startPosition,"this.startPosition")}Move(e){this.isClick}End(){this.startPosition=null}Cancel(){this.isClick=!1,this.startPosition=null}IsClick(){return this.isClick}}function ne(e){return new T.Ilk(e.r/255,e.g/255,e.b/255)}const oe={Phong:1,Physical:2};class ae{constructor(e,t){this.camera=t,this.scene=e,this.ambientLight=new T.Mig(4210752,3),this.directionalLight=new T.Ox3(16777215,1),this.directionalLight.castShadow=!0,this.environment=null,this.backgroundIsEnvMap=!1,this.scene.add(this.ambientLight),this.scene.add(this.directionalLight)}SetType(e){this.type=e,this.UpdateShading()}SetEnvironment(e,t,s){let i=new T.cBK;this.environment=i.load(e,(()=>{s()})),this.backgroundIsEnvMap=t}UpdateShading(){console.log(this.backgroundIsEnvMap,"this.backgroundIsEnvMap"),this.type===oe.Phong?(this.ambientLight.color.set(8947848),this.directionalLight.color.set(8947848),this.scene.environment=null):this.type===oe.Physical&&(this.ambientLight.color.set(0),this.directionalLight.color.set(5592405),this.scene.environment=this.environment),this.backgroundIsEnvMap?this.scene.background=this.environment:this.scene.background=null}}class le{constructor(e,t,s){this.r=e,this.g=t,this.b=s}Set(e,t,s){this.r=e,this.g=t,this.b=s}Clone(){return new le(this.r,this.g,this.b)}}class re{constructor(e,t,s,i){this.r=e,this.g=t,this.b=s,this.a=i}Set(e,t,s,i){this.r=e,this.g=t,this.b=s,this.a=i}Clone(){return new re(this.r,this.g,this.b,this.a)}}function ce(e){return e/255}var he=s(4426),de=s(3655),ue=s(1228),ge=s(4248),me=s(5502),pe=s(694);function fe(e,t=.01){return(new T.Pa4).addVectors(e.max,e.min).multiplyScalar(t)}function be(e){if(!e)return;const t=new T.ZzF;t.setFromObject(e);const s=fe(t),i=new T.ZzF;e.traverse((function(e){if(!(e.isMark||e.isMarkChild||e.isLine||e.isSprite)&&e.isMesh){i.setFromObject(e);const t=fe(i);e.userData.worldDir=(new T.Pa4).subVectors(t,s).normalize(),e.userData.worldDistance=(new T.Pa4).subVectors(t,s),e.userData.originPosition=e.getWorldPosition(new T.Pa4),e.userData.meshCenter=t.clone(),e.userData.explodeCenter=s.clone()}}))}function we(e,t){console.log(e,t,"explodeModel"),e.traverse((function(e){if(console.log(e.userData,"value.userData"),!e.isMesh||!e.userData.originPosition)return;const s=e.userData.worldDir.clone().multiplyScalar(e.userData.worldDistance.length()*t);console.log(s,"distance");const i=(new T.Pa4).subVectors(e.userData.meshCenter,e.userData.originPosition);console.log(i,"offset");const n=e.userData.explodeCenter;console.log(n,"center");const o=(new T.Pa4).copy(n).add(s).sub(i),a=e.parent&&e.parent.worldToLocal(o.clone())?e.parent.worldToLocal(o.clone()):void 0;a&&e.position.copy(a)}))}class ve{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const s=this._listeners;void 0===s[e]&&(s[e]=[]),-1===s[e].indexOf(t)&&s[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const s=this._listeners;return void 0!==s[e]&&-1!==s[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const s=this._listeners,i=s[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners,s=t[e.type];if(void 0!==s){e.target=this;const t=s.slice(0);for(let s=0,i=t.length;s<i;s++)t[s].call(this,e)}}}let ye;class Ce extends ve{constructor(e,t){super(),ye=e,this.viewer=e,this.website=t,console.log(e,"viewer in outline"),this.renderer=e.renderer,this.scene=e.scene,this.camera=e.camera,this.container=e.canvas,console.log(this.container,"this.caontainer in outline"),this.composer=null,this.effectFXAA=null,this.outlinePass=null,this.selectedObject=null,this.groups=[],this.toumingMaterials={},this.yincangMeshs={},this.phongMaterial=new T.xoR({color:5592405,specular:16777215,shininess:10,flatShading:!1,side:T.ehD,skinning:!0}),this.model=null,this.dragControls=null,this.cloneModel=null,this.dragGroup=new T.ZAu,this.MeshPostions=new Map,this.flag=!1,this.blastValue=0,this.mixer=null,this.clock=new T.SUY}getSelectedObject(){return this.selectedObject}Click(e){console.log(e,"mouseCoordinates in Outline");let t=ye.GetMeshIntersectionUnderMouse(e);if(console.log(t,"intersection in OutlineClick"),null===t)return!1;this.selectedObject=t.object,console.log(this.selectedObject.name,"选择的mesh"),this.addSelectedObject(this.selectedObject),this.outlineObj(this.selectedObjects),this.selectedObject&&(M.state.app.touming&&(M.state.app.yincang&&M.commit("app/YIN_CANG",!1),this.viewer.outline.touming(this.model,M.state.app.touming,"modelClick")),M.state.app.yincang&&(M.state.app.touming&&M.commit("app/TOU_MING",!1),this.viewer.outline.yincang2(this.model,M.state.app.yincang)))}Click2(e){console.log(e,"mouseCoordinates in Outline");let t=ye.GetMeshIntersectionUnderMouse(e);if(console.log(t,"intersection in OutlineClick"),null===t)return!1;this.selectedObject=t.object,this.selectedObject.currentHex=this.selectedObject.material.emissive.getHex(),this.selectedObject.material.emissive.setHex(16711680)}addSelectedObject(e){this.selectedObjects=[],this.selectedObjects.push(e)}outlineObj(e){console.log(e,"selectedObjects in outlineObj"),this.composer=new he.x(this.renderer),console.log(this.composer,"this.composer");const t=new de.C(this.scene,this.camera);this.composer.addPass(t),this.outlinePass=new ge.f(new T.FM8(this.container.offsetWidth,this.container.offsetHeight),this.scene,this.camera),console.log(this.outlinePass,"this.outlinePass"),this.composer.addPass(this.outlinePass),this.outlinePass.pulsePeriod=2,this.outlinePass.visibleEdgeColor.set("green"),this.outlinePass.hiddenEdgeColor.set("green"),this.outlinePass.usePatternTexture=!1,this.outlinePass.edgeStrength=5,this.outlinePass.edgeGlow=1,this.outlinePass.edgeThickness=1,this.effectFXAA=new ue.T(me.C),this.effectFXAA.uniforms.resolution.value.set(1/this.container.offsetWidth,1/this.container.offsetHeight),this.composer.addPass(this.effectFXAA),this.outlinePass.selectedObjects=e}duxian(e,t){this.model=e,console.log(this.selectedObject,"this.selectObj"),this.selectedObject?t?(M.commit("app/DU_XIAN",!0),this.model.traverse((e=>{e instanceof T.Kj0&&e.name!==this.selectedObject.name&&(e.visible=!1)}))):(M.commit("app/DU_XIAN",!1),this.model.traverse((e=>{e instanceof T.Kj0&&(e.visible=!0)}))):k.Message.error("请先选择模型")}yincang(e){this.selectedObject?(this.model=e,this.model.traverse((e=>{e instanceof T.Kj0&&e.name===this.selectedObject.name&&(this.yincangMeshs[e.name]=this.selectedObject,e.visible=!1)}))):k.Message.error("请先选择模型")}yincang2(e,t){this.selectedObject?(this.model=e,t?(M.commit("app/YIN_CANG",!0),this.model.traverse((e=>{e instanceof T.Kj0&&e.name===this.selectedObject.name&&(this.yincangMeshs[e.name]=this.selectedObject,e.visible=!1)}))):M.commit("app/YIN_CANG",!1)):k.Message.error("请先选择模型")}touming(e,t,s){if(this.model=e,this.selectedObject)if(t)M.commit("app/TOU_MING",!0),console.log(this.selectedObject,"选择的mesh 透明"),this.model.traverse((e=>{e instanceof T.Kj0&&(this.groups.push(e),e.name==this.selectedObject.name&&(this.toumingMaterials.hasOwnProperty(this.selectedObject.name)?this.selectedObject.material.transparent?this.selectedObject.material=this.toumingMaterials[e.name]:(this.selectedObject.material=this.phongMaterial,this.selectedObject.material.transparent=!0,this.selectedObject.material.opacity=.5):(this.toumingMaterials[e.name]=e.material,this.selectedObject.material=this.phongMaterial,this.selectedObject.material.transparent=!0,this.selectedObject.material.opacity=.5)))}));else if(t||"modelClick"!=s)M.commit("app/TOU_MING",!1);else{M.commit("app/TOU_MING",!1);for(const e in this.toumingMaterials)console.log(e,"key"),this.model.traverse((t=>{t instanceof T.Kj0&&t.name===e&&(t.material=this.toumingMaterials[e])}))}else k.Message.error("请先选择模型")}dragMesh(e,t){this.flag=t,this.model=e,console.log(this.selectedObjects,"selectedObjects -dragMesh"),console.log(this.model,"this.model in dragMesh1 "),this.flag?(M.commit("app/YI_DONG",!0),this.dragControls=new pe.S([this.model],this.viewer.camera,this.viewer.renderer.domElement),this.dragControls.addEventListener("dragstart",(e=>{console.log(e,"event0000"),ye.controls.enabled=!1,console.log(this.selectedObject,"this.selectedObject1111"),this.MeshPostions.set(e.object.name,e.object.position)})),this.dragControls.addEventListener("dragend",(e=>{console.log(e,"event11111111"),console.log(this.MeshPostions,"  this.MeshPostions222"),ye.controls.enabled=!0}))):(M.commit("app/YI_DONG",!1),ye.controls.enabled=!0,this.dragControls.deactivate())}rotation(e){ye.controls.autoRotate=!!e}SetEnvironment(e="ice_river",t=!1,s){if(t){const t=new T.cBK,i="static/envmaps/"+e+"/",n=[i+"posx.jpg",i+"negx.jpg",i+"posy.jpg",i+"negy.jpg",i+"posz.jpg",i+"negz.jpg"],o=t.load(n,(function(){s&&s()}));this.scene.background=o}else this.scene.background=new T.Ilk("#212121")}setWireFrame(e,t){console.log(e,"active in setWireFrame "),this.model=t,this.cloneModel=t.clone(),this.model.traverse((t=>{if(t instanceof T.Kj0)if(e){if(t.material.length>1)for(var s=0;s<t.material.length;s++)t.material[s].wireframe=!0;else t.material.wireframe=!0;M.commit("app/WANGE_GE",!0)}else{if(t.material.length>1)for(s=0;s<t.material.length;s++)t.material[s].wireframe=!1;else t.material.wireframe=!1;M.commit("app/WANGE_GE",!1)}}))}SetbackgroundColor(e){ye.scene.background=0===e?new T.Ilk("#212121"):1===e?new T.Ilk("#474747"):new T.Ilk("#afafaf")}SetBackgroundColor(e){let t=new T.Ilk(ce(e.r),ce(e.g),ce(e.b)),s=ce(e.a);console.log(t,"bgColor"),this.viewer.renderer.setClearColor(t,s)}reset(){if(this.selectedObject={},this.selectedObjects=[],this.outlineObj(this.selectedObjects),console.log(this.model,"this.model in reset"),this.viewer.RenderCamera(),this.website.Measure(!1),this.model){M.commit("app/DU_XIAN",!1),M.commit("app/TOU_MING",!1),M.commit("app/YIN_CANG",!1);for(const e in this.yincangMeshs)this.model.traverse((t=>{t instanceof T.Kj0&&t.name===e&&(t.visible=!0)}));this.model.traverse((e=>{e instanceof T.Kj0&&(e.visible=!0)})),this.flag&&this.dragMesh(this.model,!1),console.log(this.website.model,"this.website.model");for(const e in this.toumingMaterials)this.model.traverse((t=>{t instanceof T.Kj0&&t.name===e&&(t.material=this.toumingMaterials[e])}));if(this.blastValue=0,M.dispatch("app/resetBlastVal"),we(this.model,this.blastValue),this.MeshPostions){for(let e of this.MeshPostions.keys())console.log(e,"key in  reset "),this.model.traverse((t=>{t.name===e&&(console.log(t,"child11111"),t.position.set(0,0,0))}));this.flag&&this.dragControls.activate()}}}tweenCamera(e,t){(new T.Pa4).copy(e.center),new T.Pa4(20,20,20)}Blast(e,t){this.model=e,this.blastValue=t,we(this.model,this.blastValue),M.dispatch("app/changBlastVal",this.blastValue)}Edge(e,t){this.model=e,M.commit("app/CHANGE_EDGE_VAL",t),this.website.UpdateEdgeDisplay(!0,t)}playAnimate(e){if(e.animations&&e.animations.length){this.mixer=new T.Xcj(e);const t=this.mixer.clipAction(e.animations[0]);console.log(t,"action1111111"),t.play()}}}var Me=s(6535);new T.YBo({side:T.ehD}),new T.xoR({side:T.ehD,wireframe:!0,shininess:100,specular:0,emissive:0,flatShading:!1,depthWrite:!0,depthTest:!0});let ke,Le={},Se={};function Oe(e){Le[e.uuid]=e.animations,console.log(Le,"animations11111"),e.animations.length}function je(e){var t=null!==e?e.uuid:"",s=Le[t];if(void 0!==s){ke=new T.Xcj(e);var i={};for(var n of s){i[n.name]=n.name;var o=ke.clipAction(n);Se[n.name]=o,console.log(o,"action1111")}}}function xe(e){console.log(e,"anims111111"),console.log(ke,"mixer2222"),void 0!==e&&(console.log(e,"anims22222"),ke.clipAction(e[0]).play())}function Ee(){void 0!==ke&&ke.stopAllAction()}function Ie(e){let t=45;return e===X.X?new V(new z(2,-3,1.5),new z(0,0,0),new z(1,0,0),t):e===X.Y?new V(new z(-1.5,2,3),new z(0,0,0),new z(0,1,0),t):e===X.Z?new V(new z(-1.5,-3,2),new z(0,0,0),new z(0,0,1),t):null}let Fe,Pe=!1;class Ge{constructor(e,t,s,i){Fe=this,this.website=i,this.signals=i.signals,console.log(this.signals,"this.signals  in Viewer"),console.log(s,";settings1111"),this.settings={animationSteps:40},console.log(e,"mainDiv in Viewer"),this.canvas=null,this.mainDiv=e,this.renderer=null,this.scene=null,this.camera=null,this.fov=45,this.near=.1,this.far=1e4,this.navigation=null,this.shading=null,this.outline=null,this.view2=t,console.log(t,"view2 in Viewer"),this.clock=new T.SUY}Init(e){this.canvas=e,this.canvas.id="viewer";let t={canvas:this.canvas,antialias:!0};this.renderer=new T.CP7(t),window.devicePixelRatio&&this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=T.ntZ,this.renderer.setClearColor("#ffffff",1),this.renderer.setSize(this.canvas.width,this.canvas.height),this.scene=new T.xsS,this.camera=new T.cPb(45,this.canvas.width/this.canvas.height,this.near,this.far),this.camera.position.set(500,500,500),console.log(this.camera.position,"this.camera...."),Pe&&(this.camera2=new T.cPb(50,this.canvas.width/this.canvas.height,.1,3e3),this.camera2.position.set(600,600,600),this.camera2.lookAt(0,0,0)),this.InitShading(),this.controls=new U.z(this.camera,this.mainDiv),this.controls.enableDamping=!0,this.controls.target.set(0,0,0),this.controls.addEventListener("change",(()=>{})),this.controls.update(),Pe&&(this.controls2=new U.z(this.camera2,this.view2),this.controls2.target.set(0,0,0),this.controls2.update()),this.geometry=new _(this.scene),this.extraGeometry=new q(this.scene);let s=this.renderer.domElement,i=Ie(X.Y);console.log(i,"camera in GetDefaultCamera"),this.navigation=new te(s,this.mainDiv,i,{onUpdate:()=>{this.RenderCamera()}}),this.outline=new Ce(this,this.website),this.animate()}initGui(e,t){class s{constructor(e,t,s,i){this.obj=e,this.minProp=t,this.maxProp=s,this.minDif=i}get min(){return this.obj[this.minProp]}set min(e){this.obj[this.minProp]=e,this.obj[this.maxProp]=Math.max(this.obj[this.maxProp],e+this.minDif)}get max(){return this.obj[this.maxProp]}set max(e){this.obj[this.maxProp]=e,this.min=this.min}}function i(){console.log(e,"camera updateCamera"),e.updateProjectionMatrix()}console.log(e,"camera updateCamera");const n=new Me.XS;n.width=320,n.close();const o=n.addFolder("camera");o.add(this.camera,"fov",1,180).onChange(i);const a=new s(this.camera,"near","far",.1);function l(){e.updateProjectionMatrix(),Fe.RenderCamera()}o.add(a,"min",.1,50,.1).name("near").onChange(i),o.add(a,"max",.1,3e4,.1).name("far").onChange(i),this.makeXYZGUI(n,e.position,"position",i);const r=n.addFolder("center");r.add(t.center,"x",.1,50,.1).onChange((e=>{t.center.x=e,l()})),r.add(t.center,"y",.1,50,.1).onChange((e=>{t.center.y=e,l()})),r.add(t.center,"z",.1,50,.1).onChange((e=>{t.center.z=e,l()}))}makeXYZGUI(e,t,s,i){const n=e.addFolder(s);n.add(t,"x",t.x-10,t.x+10).onChange(i),n.add(t,"y",t.y-10,t.y+10).onChange(i),n.add(t,"z",t.z-10,t.z+10).onChange(i),n.open()}InitShading(){this.shading=new ae(this.scene,this.camera)}SetEnvironmentMapSettings(e,t){console.log(e,t,"SetEnvironmentMapSettings"),this.shading.SetEnvironment(e,t,(()=>{})),this.shading.UpdateShading()}SetCamera(e){this.navigation.SetCamera(e)}Resize(e,t){console.log(e,"width",t,"height");G(this.canvas,e,t);console.log(this.outline,"this.outline"),console.log(this.mainDiv.offsetWidth,"this.mainDiv.offsetWidth"),console.log(this.mainDiv.offsetHeight,"this.mainDiv.height"),this.ResizeRenderer(this.mainDiv.offsetWidth,this.mainDiv.offsetHeight)}ResizeRenderer(e,t){window.devicePixelRatio&&this.renderer.setPixelRatio(window.devicePixelRatio),this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}SetMainObject(e){console.log(e,"object in viewer SetMainObject"),this.geometry.SetMainObject(e)}AddExtraObject(e){this.extraGeometry.AddObject(e)}Clear(){this.geometry.Clear(),this.extraGeometry.Clear()}ClearExtra(){this.extraGeometry.Clear()}animate(){requestAnimationFrame(this.animate.bind(this)),this.controls&&this.controls.update(),this.render()}setScissorForElement(e){let t=this.mainDiv;const s=t.getBoundingClientRect(),i=e.getBoundingClientRect(),n=Math.min(i.right,s.right)-s.left,o=Math.max(0,i.left-s.left),a=Math.min(i.bottom,s.bottom)-s.top,l=Math.max(0,i.top-s.top),r=Math.min(s.width,n-o),c=Math.min(s.height,a-l),h=s.height-a;return this.renderer.setScissor(o,h,r,c),this.renderer.setViewport(o,h,r,c),r/c}resizeRendererToDisplaySize(e){const t=e.domElement,s=t.clientWidth,i=t.clientHeight,n=t.width!==s||t.height!==i;return n&&this.renderer.setSize(s,i,!1),n}RenderCamera(){const e=this.navigation.GetCamera();console.log(this.camera,e,"navigationCamera11111111"),this.camera.position.set(e.eye.x,e.eye.y,e.eye.z),this.camera.up.set(e.up.x,e.up.y,e.up.z),this.camera.lookAt(new T.Pa4(e.center.x,e.center.y,e.center.z)),this.controls.target.set(e.center.x,e.center.y,e.center.z),this.controls.update(),this.initGui(this.camera,e);const t=new T.DvJ(.01,.01,.01),s=new T.vBJ({color:65280}),i=new T.Kj0(t,s);i.position.set(e.eye.x,e.eye.y,e.eye.z),this.scene.add(i);const n=new T.DvJ(.01,.01,.01),o=new T.vBJ({color:"red"}),a=new T.Kj0(n,o);a.position.set(e.center.x,e.center.y,e.center.z),this.scene.add(a)}render(){if(this.renderer){if(Pe){let e=this.mainDiv,t=this.view2;this.resizeRendererToDisplaySize(this.renderer),this.renderer.setScissorTest(!0);{const t=this.setScissorForElement(e);this.camera.aspect=t,this.camera.updateProjectionMatrix(),this.cameraHelper.update(),this.renderer.render(this.scene,this.camera)}{const e=this.setScissorForElement(t);this.camera2.aspect=e,this.camera2.updateProjectionMatrix(),this.cameraHelper.visible=!0,this.renderer.render(this.scene,this.camera2)}}else this.renderer.clear(),this.renderer.render(this.scene,this.camera);null!=this.outline.composer&&this.outline.composer.render();var e=this.clock.getDelta();ke&&ke.update(e)}}SetMouseClickHandler(e){this.navigation.SetMouseClickHandler(e)}SetMouseMoveHandler(e){this.navigation.SetMouseMoveHandler(e)}GetCanvasSize(){let e=this.canvas.width,t=this.canvas.height;return window.devicePixelRatio&&(e/=window.devicePixelRatio,t/=window.devicePixelRatio),{width:e,height:t}}GetMeshIntersectionUnderMouse(e){let t=this.GetCanvasSize();console.log(t,"canvasSize");let s=this.geometry.GetMeshIntersectionUnderMouse(e,this.camera,t.width,t.height);return null===s?null:s}GetBoundingSphere(e){return this.geometry.GetBoundingSphere(e)}AdjustClippingPlanesToSphere(e){null!==e&&(e.radius<10?(this.camera.near=.01,this.camera.far=100):e.radius<100?(this.camera.near=.1,this.camera.far=1e3):e.radius<1e3?(this.camera.near=10,this.camera.far=1e4):(this.camera.near=100,this.camera.far=1e6),this.camera.updateProjectionMatrix(),this.RenderCamera())}FitSphereToWindow(e,t){if(console.log(e,t,"FitSphereToWindow"),null===e)return;let s=new z(e.center.x,e.center.y,e.center.z);console.log(s,"center in  FitSphereToWindow");let i=e.radius,n=this.navigation.GetFitToSphereCamera(s,i);console.log(n,"newCamera"),this.navigation.MoveCamera(n,t?this.settings.animationSteps:0)}}let Ae={StringToNumber(e){return parseFloat(e)},StringToInteger(e){return parseInt(e,10)},StringToModelUrls(e){return null===e||0===e.length?null:e.split(",")},StringToRGBAColor:function(e){if(null===e||0===e.length)return null;let t=e.split(",");if(3!==t.length&&4!==t.length)return null;let s=new re(this.StringToInteger(t[0]),this.StringToInteger(t[1]),this.StringToInteger(t[2]),255);return 4===t.length&&(s.a=this.StringToInteger(t[3])),console.log(s,"color22222"),s},StringToCamera:function(e){if(null===e||0===e.length)return null;let t=e.split(",");if(9!==t.length)return null;console.log(t,"paramParts");let s=new V(new z(this.StringToNumber(t[0]),this.StringToNumber(t[1]),this.StringToNumber(t[2])),new z(this.StringToNumber(t[3]),this.StringToNumber(t[4]),this.StringToNumber(t[5])),new z(this.StringToNumber(t[6]),this.StringToNumber(t[7]),this.StringToNumber(t[8])));return s}};class De{constructor(e,t){this.separator=t,this.paramList=e}GetCamera(){let e=this.GetKeywordParams("camera");return Ae.StringToCamera(e)}GetBackgroundColor(){let e=this.GetKeywordParams("backgroundcolor");return console.log(e,"backgroundParams"),Ae.StringToRGBAColor(e)}GetModelUrls(){if(-1===this.paramList.indexOf("="))return this.paramList.split(",");let e=this.GetKeywordParams("model");return console.log(e,"keywordParams"),Ae.StringToModelUrls(e)}GetKeywordParams(e){if(null===this.paramList||0===this.paramList.length)return null;let t=`${e}=`;console.log(this.paramList," this.paramList GetKeywordParams");let s=this.paramList.split(this.separator);console.log(s,"urlParts");for(let i=0;i<s.length;i++){let e=s[i];if(e.startsWith(t))return e.substring(t.length)}return null}}function Re(e){return new De(e,"$")}class Te{constructor(e){this.separator=e,this.paramList=""}AddUrlPart(e,t){}AddBackgroundColor(e){this.AddUrlPart("backgroundcolor","green")}}function Ue(){return new Te("$")}class ze{constructor(){this.eventListener=null,this.skipNextEvent=!1}SetEventListener(e){this.eventListener=e,window.onhashchange=this.OnChange.bind(this)}SkipNextEventHandler(){this.skipNextEvent=!0}OnChange(){this.skipNextEvent?this.skipNextEvent=!1:this.eventListener()}HasHash(){let e=this.GetHash();return console.log(e,"hash-----"),e.length>0}ClearHash(){this.SetHash("")}SetHash(e){window.location.hash=e}GetHash(){return window.location.hash.substring(1)}GetModelFilesFromHash(){let e=Re(this.GetHash());return console.log(e,"parser1111"),e.GetModelUrls()}GetBackgroundFromHash(){let e=Re(this.GetHash());return e.GetBackgroundColor()}GetCameraFromHash(){let e=Re(this.GetHash());return e.GetCamera()}}const Be={Url:1,File:2,Decompressed:3};function Ne(e){let t=e.lastIndexOf("/");-1===t&&(t=e.lastIndexOf("\\"));let s=e;-1!==t&&(s=e.substring(t+1));let i=s.indexOf("?");return-1!==i&&(s=s.substring(0,i)),decodeURI(s)}function Ve(e){let t=Ne(e),s=t.lastIndexOf(".");if(console.log(s,"firstPoint in GetFileExtension"),-1===s)return"";let i=t.substring(s+1);return i.toLowerCase()}function We(e,t){return new Promise(((s,i)=>{console.log(e,"url in RequestUrl");let n=new XMLHttpRequest;n.open("GET",e,!0),n.onprogress=e=>{t(e.loaded,e.total)},n.onload=()=>{console.log(n,"request in RequestUrl"),200===n.status?s(n.response):i()},n.onerror=()=>{i()},n.responseType="arraybuffer",n.send(null)}))}function He(e,t){return new Promise(((s,i)=>{let n=new FileReader;n.onprogress=e=>{t(e.loaded,e.total)},n.onloadend=e=>{e.target.readyState===FileReader.DONE&&s(e.target.result)},n.onerror=()=>{i()},n.readAsArrayBuffer(e)}))}function Ze(){return new Promise(((e,t)=>{e({msg:"success"})}))}let Ye=null;function Ke(e){Ye=e}function Qe(e,t,s){void 0!==Ye&&null!==Ye&&Ye(e,t,s)}class Je{constructor(){this.count=null,this.current=null,this.callbacks=null}Run(e,t){this.count=e,this.current=0,this.callbacks=t,0===e?alert("run 0"):this.RunOnce()}RunOnce(){console.log(this.callbacks,"this.callbacks in RunOnce "),setTimeout((()=>{this.callbacks.runTask(this.current,this.TaskReady.bind(this))}),0)}TaskReady(){this.current+=1,this.current<this.count?this.RunOnce():this.callbacks.onReady&&this.callbacks.onReady()}}function Xe(e,t){let s=new Je;s.Run(e,t)}class _e{constructor(){this.content=null}SetContent(e){this.content=e}}let qe=new _e,$e=Ze();function et(e){$e.then((t=>{console.log(e,"testfile in testPromise"),e.SetContent(t),console.log(e,"testfile2 in testPromise"),console.log(t,"content in testPromise")})).catch((()=>{})).finally((()=>{console.log("testPromise-finally")}))}et(qe);class tt{constructor(e,t,s){this.name=Ne(e),this.extension=Ve(e),this.source=t,this.data=s,this.content=null}SetContent(e){this.content=e}}class st{constructor(){this.files=[]}GetFiles(){return this.files}GetContent(e){console.log("GetContent-3"),console.log(this.files,"this.files in GetContent"),Xe(this.files.length,{runTask:(t,s)=>{e.onFileListProgress(t,this.files.length),console.log("GetContent-5"),console.log(t,"index in RunTask"),console.log(s,"onTaskComplete in RunTask"),this.GetFileContent(this.files[t],{onReady:s,onProgress:e.onFileLoadProgress})},onReady:e.onReady})}GetFileContent(e,t){if(null!==e.content)return void t.onReady();console.log(e,"file in GetFileContent");let s=null;e.source===Be.Url?(s=We(e.data,t.onProgress),console.log(s,"loaderPromise")):e.source===Be.File&&(s=He(e.data,t.onProgress)),console.log("loaderPromise1"),s.then((t=>{console.log(t,"content in GetFileContent"),console.log(e,"file in loaderPromise"),e.SetContent(t)})).catch((()=>{})).finally((()=>{console.log("finally"),t.onReady()})),console.log("loaderPromise3")}FillFromInputFiles(e){this.files=[];for(let t of e){let e=new tt(t.name,t.source,t.data);this.files.push(e)}}}class it{constructor(e,t,s){this.name=e,this.source=t,this.data=s}}function nt(e){let t=[];for(let s of e){let e=Ne(s);t.push(new it(e,Be.Url,s))}return t}function ot(e){let t=[];for(let s of e){let e=Ne(s.name);t.push(new it(e,Be.File,s))}return t}class at{constructor(){this.name=null,this.extension=null,this.callbacks=null,this.model=null,this.error=null,this.message=null}}class lt extends at{constructor(){super()}CanImportExtension(e){return"obj"===e}}class rt{constructor(){this.importers=[new lt],this.fileList=new st}ImportFiles(e,t,s){s.onLoadStart(),this.LoadFiles(e,{onReady:()=>{console.log(this.fileList,"GetContent-0"),s.onImportStart()},onFileListProgress:s.onFileListProgress,onFileLoadProgress:s.onFileLoadProgress})}LoadFiles(e,t){let s=new st;s.FillFromInputFiles(e),console.log(JSON.stringify(s),"newFileList");let i=!1;this.HasImportableFile(s)&&(i=!0),i&&(this.fileList=s),console.log("GetContent-1"),this.fileList.GetContent({onReady:t.onReady,onFileListProgress:t.onFileListProgress,onFileLoadProgress:t.onFileLoadProgress}),console.log("GetContent-2"),console.log(this.fileList,"this.fileList in LoadFiles")}HasImportableFile(e){let t=this.GetImportableFiles(e);return t.length>0}GetImportableFiles(e){function t(e,t){for(let s=0;s<t.length;s++){let i=t[s];if(i.CanImportExtension(e.extension))return console.log(i,"importer in GetImportableFiles"),i}return null}let s=[],i=e.GetFiles();console.log(i,"files in GetImportableFiles");for(let n=0;n<i.length;n++){let e=i[n],o=t(e,this.importers);null!==o&&(s.push({file:e,importer:o}),console.log(s,"importableFiles  inGetImportableFiles"))}return s}}class ct{constructor(){this.inProgress=!1,this.importer=new rt}InProgress(){return this.inProgress}LoadModel(e,t,s){this.inProgress,this.inProgress=!0,this.importer.ImportFiles(e,t,{onLoadStart:()=>{s.onLoadStart()},onFileListProgress:(e,t)=>{s.onFileListProgress(e,t)},onFileLoadProgress:(e,t)=>{s.onFileLoadProgress(e,t)},onImportStart:()=>{s.onImportStart()},onSelectMainFile:()=>{},onImportSuccess:()=>{s.onVisualizationStart()},onImportError:e=>{s.onLoadError(e)}})}}class ht{constructor(){this.modelLoader=new ct}LoadModel(e,t,s){console.log(e,"inputFiles in ThreeModelLoaderUI"),console.log(t,"settings"),console.log(s,"callbacks"),this.modelLoader.InProgress()||this.modelLoader.LoadModel(e,t,{onLoadStart:()=>{s.onStart()},onFileListProgress:(e,t)=>{console.log(e,t,"onFileListProgress文件进度")},onFileLoadProgress:(e,t)=>{console.log(e,t,"onFileLoadProgress")},onSelectMainFile:()=>{},onImportStart:()=>{},onVisualizationStart:()=>{},onModelFinished:()=>{},onTextureLoaded:()=>{},onLoadError:()=>{}})}}class dt{constructor(e,t,s){this.name=e,this.source=t,this.data=s}}class ut{constructor(e,t,s){this.name=Ne(e),this.extension=Ve(e),this.source=t,this.data=s,this.content=null,this.size=s.size}SetContent(e){this.content=e,console.log(this,e,"this in setContent")}setSize(e){this.size=e}}class gt{constructor(){this.files=[]}GetFiles(){return this.files}IsOnlyUrlSource(){if(console.log(this.files,"this.files in  IsOnlyUrlSource"),0===this.files.length)return!1;for(let e=0;e<this.files.length;e++){let t=this.files[e];if(t.source!==Be.Url&&t.source!==Be.Decompressed)return!1}return!0}FillFromInputFiles(e){this.files=[];for(let t of e){let e=new ut(t.name,t.source,t.data);this.files.push(e)}console.log(this.files,"this.files in FillFromInputFiles")}GetContent(e){console.log(this.files,"this.files in GetContent"),Xe(this.files.length,{runTask:(t,s)=>{console.log(t,"index in runTask"),e.onFileListProgress(t,this.files.length),this.GetFileContent(this.files[t],{onReady:s,onProgress:(s,i)=>{console.log(s,i,"load onProgress"),this.files[t].setSize(i),e.onFileLoadProgress(s,i)}})},onReady:e.onReady})}GetFileContent(e,t){console.log(e," file in GetFileContent");let s=null;e.source===Be.Url?s=We(e.data,t.onProgress):e.source===Be.File&&(s=He(e.data,t.onProgress)),s.then((t=>{console.log(t,e,"content in loaderPromise"),e.SetContent(t),console.log(t,e,"content in loaderPromise2")})).catch((e=>{})).finally((()=>{t.onReady()}))}}function mt(e){let t=[];for(let s of e){console.log(s,"url in InputFilesFromUrls");let e=Ne(s);t.push(new dt(e,Be.Url,s))}return t}function pt(e){let t=[];for(let s of e){console.log(s,"fileObject");let e=Ne(s.name);t.push(new dt(e,Be.File,s,s.size))}return t}const ft={createFilesMap:function(e){const t=new Map;for(let s=0;s<e.length;s++){const i=e[s];t.set(i.name,e[s])}return t},getFilesFromItemList:function(e,t){let s=0,i=0;const n=[],o={};function a(){s++,console.log(s,"itemsCount"),s===i&&t(n,o)}function l(e){if(e.isDirectory){const t=e.createReader();t.readEntries((function(e){for(let t=0;t<e.length;t++)l(e[t]);a()}))}else e.isFile&&(e.file((function(t){console.log(t,"file in entry.file"),n.push(t),o[e.name]=t,a()})),console.log(e,"entry "),console.log(n,"files in handleEntry"));i++}for(let r=0;r<e.length;r++){const t=e[r];console.log(t,"item in getFilesFromItemList"),"file"===t.kind&&(console.log(t.webkitGetAsEntry(),"item.webkitGetAsEntry()"),l(t.webkitGetAsEntry()))}}};function bt(e){let t=new TextDecoder("utf-8");return t.decode(e)}var wt=s(6925);function vt(e,t){t.onModelFinished(e)}function yt(e){let t;if("string"===typeof e)t=e;else{const s=T.Zp0.decodeText(new Uint8Array(e,0,4));if("glTF"===s){const t=new DataView(e).getUint32(4,!0);return t<2}t=T.Zp0.decodeText(new Uint8Array(e))}const s=JSON.parse(t);return void 0!=s.asset&&s.asset.version[0]<2}function Ct(e,t){switch(void 0===e.metadata&&(e.metadata={type:"Geometry"}),void 0===e.metadata.type&&(e.metadata.type="Geometry"),void 0!==e.metadata.formatVersion&&(e.metadata.version=e.metadata.formatVersion),e.metadata.type.toLowerCase()){case"buffergeometry":{const s=new T.s4_,i=s.parse(e),n=new T.Kj0(i);vt(n,t);break}case"geometry":console.error('Loader: "Geometry" is no longer supported.');break;case"object":{const s=new T.Gql;s.setResourcePath(Mt.texturePath),s.parse(e,(e=>{e.isScene?(alert("scene"),vt(e,t)):vt(e,t)}));break}case"app":break}}let Mt;Number.prototype.format=function(){return this.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};class kt{constructor(){Mt=this,this.callbacks=null,this.objectURLs=[],this.fileList=new gt,this.texturePath=""}getFileList(){return this.fileList}loadItemUrls(e,t){this.callbacks=t,console.log(this.fileList,"this.fileList"),console.log(e,"urls in loadItemUrls");let s=mt(e);console.log(s,"inputFiles in loadItemUrls");let i=new gt;i.FillFromInputFiles(s),console.log(i,"newFileList in loadItemUrls"),this.fileList=i,console.log(this.fileList,"this.fileList2"),t.onLoadStart(),this.fileList.GetContent({onReady:()=>{t.onImportStart(),this.loadFiles(this.fileList,e,n)},onFileListProgress:t.onFileListProgress,onFileLoadProgress:t.onFileLoadProgress});const n=new Map;for(let o=0;o<e.length;o++){const t=e[o];console.log(t,"file in loadItemUrls11 "),n.set(Ne(t),t)}console.log(n,"filesMap in  loadItemUrls")}loadItemList(e,t){this.callbacks=t,console.log(e,"items in loadItemList"),ft.getFilesFromItemList(e,((e,s)=>{console.log(e,"fies111");let i,n={};for(let t=0;t<e.length;t++)i=e[t],n[i.name]=i,console.log("Filename: "+e[t].name),console.log("Type: "+e[t].type),console.log(e[t]),console.log("Size: "+e[t].size+" bytes");console.log(e,"files in loadItemList"),console.log(pt(e),"InputFilesFromFileObjects(files)");let o=pt(e),a=new gt;a.FillFromInputFiles(o),console.log(a,"newFileList in loadItemList"),this.fileList=a,console.log(this.fileList,"this.fileList1");let l=ft.createFilesMap(e);t.onLoadStart(),this.fileList.GetContent({onReady:()=>{t.onImportStart(),this.loadFiles(this.fileList,e,l)},onFileListProgress:t.onFileListProgress,onFileLoadProgress:t.onFileLoadProgress})}))}loadItemInput(e,t){this.callbacks=t,console.log(t,"callbacks222");let s,i=e,n={};for(let r=0;r<i.length;r++)s=i[r],n[s.name]=s,console.log("Filename: "+i[r].name),console.log("Type: "+i[r].type),console.log(i[r]),console.log("Size: "+i[r].size+" bytes");console.log(i,"files in loadItemList"),console.log(pt(i),"InputFilesFromFileObjects(files)");let o=pt(i),a=new gt;a.FillFromInputFiles(o),console.log(a,"newFileList in loadItemList"),this.fileList=a,console.log(this.fileList,"this.fileList1");let l=ft.createFilesMap(i);t.onLoadStart(),this.fileList.GetContent({onReady:()=>{t.onImportStart(),this.loadFiles(this.fileList,i,l)},onFileListProgress:t.onFileListProgress,onFileLoadProgress:t.onFileLoadProgress})}loadFiles(e,t,s){if(console.log(e,t,"fileList in loadFiles"),t.length>0){s=s||ft.createFilesMap(t),console.log(s,"filesMap in loadFiles");const i=new T.lLk;i.onStart=()=>{console.log("Started loading file")},i.setURLModifier((t=>{if(console.log(t,"url in setURLModifier"),t){"blob:"==t.substring(0,5)||"data:"==t.substring(0,5)||(t=Ne(t)),console.log(t,s,"url2222222");let i=e.files.find((e=>e.name===t));console.log(i,"filetest");let n=e.files.find((e=>e.name===t));if(console.log("file-url",n),n&&n.content){n=n.content,console.log("Loading in setURLModifier",t);let e=new Blob([n]);return console.log(e,"blob"),console.log(URL.createObjectURL(e),"URL.createObjectURL(blob)"),this.objectURLs.push(URL.createObjectURL(e)),URL.createObjectURL(e)}return t}return""})),console.log(this.objectURLs,"objectURLs");let n=e.files;for(let e=0;e<n.length;e++)this.loadFile(n[e],s,i)}}async loadFile(e,t,i){console.log(e,t,"file in loadFile");const n=e.extension;e.source;const o=new FileReader;o.addEventListener("progress",(t=>{const s="("+Math.floor(t.total/1e3).format()+" KB)",i=Math.floor(t.loaded/t.total*100)+"%";console.log("Loading",e.name,s,i)}));try{switch(n){case"asc":console.log(this.callbacks,"this.callbacks"),this.callbacks.onLoadError(3213);case"obj":{console.log(this.fileList,"this.fileList in obj");let n=e.name.split(".")[0];if(t.has(`${n}.obj`)&&t.has(`${n}.mtl`)){const{MTLLoader:e}=await s.e(651).then(s.bind(s,2651)),{OBJLoader:t}=await s.e(949).then(s.bind(s,3949));let o=this.fileList.files.find((e=>e.name===`${n}.mtl`)).content;const a=new e(i).parse(bt(o));console.log(a,"materials");const l=new t;let r=this.fileList.files.find((e=>e.name===`${n}.obj`)).content;const c=l.setMaterials(a).parse(bt(r));console.log(c,"object"),vt(c,this.callbacks)}else if(t.has(`${n}.obj`)){const{OBJLoader:e}=await s.e(949).then(s.bind(s,3949)),t=new e;let i=this.fileList.files.find((e=>e.name===`${n}.obj`)).content;const o=t.parse(bt(i));vt(o,this.callbacks)}break}case"fbx":{let t=e.content;const{FBXLoader:n}=await s.e(375).then(s.bind(s,375)),o=new n(i),a=o.parse(t);console.log(this,"this in fbx22"),console.log(a,"object in fbx"),console.log(this,"this in fbx"),vt(a,this.callbacks);break}case"3dm":{let t=e.content;const{Rhino3dmLoader:i}=await s.e(907).then(s.bind(s,7907)),n=new i;n.setLibraryPath("/libs/loaders/rhino3dm/"),n.parse(t,(e=>{vt(e,this.callbacks)}));break}case"3ds":{const{TDSLoader:t}=await s.e(946).then(s.bind(s,1946)),n=new t(i),o=n.parse(e.content);console.log(o,"object in 3ds"),o.children.length>0||alert("不完整 "),vt(o,this.callbacks);break}case"3mf":{const{ThreeMFLoader:t}=await s.e(669).then(s.bind(s,2669)),i=new t,n=i.parse(e.content);vt(n,this.callbacks);break}case"amf":{const{AMFLoader:t}=await s.e(744).then(s.bind(s,6744)),i=new t,n=i.parse(e.content);vt(n,this.callbacks);break}case"dae":{const t=bt(e.content);console.log(t,"contents in dae");const{ColladaLoader:n}=await s.e(974).then(s.bind(s,2974)),o=new n(i),a=o.parse(t);a.scene.name=e.name,vt(a.scene,this.callbacks);break}case"drc":{const t=e.content,{DRACOLoader:i}=await s.e(539).then(s.bind(s,539)),n=new i;n.setDecoderPath("/libs/loaders/draco/"),n.decodeDracoFile(t,(t=>{let s;if(null!==t.index){const i=new T.Wid;s=new T.Kj0(t,i),s.name=e.name}else{const i=new T.UY4({size:.01});i.vertexColors=t.hasAttribute("color"),s=new T.woe(t,i),s.name=e.name}n.dispose(),vt(s,this.callbacks)}));break}case"glb":{const t=e.content,{DRACOLoader:i}=await s.e(539).then(s.bind(s,539)),{GLTFLoader:n}=await s.e(225).then(s.bind(s,7225)),o=new i;o.setDecoderPath("/libs/loaders/draco/");const a=new n;a.setDRACOLoader(o),a.parse(t,"",(t=>{const s=t.scene;s.name=e.name,s.animations.push(...t.animations),vt(s,this.callbacks)}),(e=>{this.callbacks.onLoadError(e)}));break}case"gltf":{const t=e.content;let n;if(console.log(e,"file11111222"),yt(t))alert("Import of glTF asset not possible. Only versions >= 2.0 are supported. Please try to upgrade the file to glTF 2.0 using glTF-Pipeline.");else{const{DRACOLoader:e}=await s.e(539).then(s.bind(s,539)),{GLTFLoader:t}=await s.e(225).then(s.bind(s,7225)),o=new e;o.setDecoderPath("/libs/loaders/gltf/"),n=new t(i),n.setDRACOLoader(o)}n.parse(t,"",(t=>{console.log(t,"result in gltf");const s=t.scene;s.name=e.name,s.animations.push(...t.animations),vt(s,this.callbacks)})),console.log(e,"file3333333");break}case"js":case"json":{let t,s=bt(e.content);if(-1!==s.indexOf("postMessage")){const e=new Blob([s],{type:"text/javascript"});console.log(e,"blob-jsjson");const t=URL.createObjectURL(e);console.log(t,"url-jsjson");const i=new Worker(t);return i.onmessage=function(e){e.data.metadata={version:2},Ct(e.data,Mt.callbacks)},void i.postMessage(Date.now())}try{t=JSON.parse(s)}catch(a){return void alert(a)}Ct(t,Mt.callbacks);break}case"ifc":{const{IFCLoader:t}=await s.e(413).then(s.bind(s,6413));let i=new t;i.ifcManager.setWasmPath("/libs/loaders/ifc/");const n=await i.parse(e.content);console.log(n,"model"),n.mesh.name=e.name,vt(n,this.callbacks);break}case"kmz":{const{KMZLoader:t}=await Promise.all([s.e(974),s.e(383)]).then(s.bind(s,6383)),i=new t,n=i.parse(e.content);n.scene.name=e.name,vt(n.scene,this.callbacks);break}case"ldr":case"mpd":{let t=bt(e.content);const{LDrawLoader:i}=await s.e(24).then(s.bind(s,7024)),n=new i;n.parse(t,(t=>{t.name=e.name,t.rotation.x=Math.PI,vt(t,Mt.callbacks)}));break}case"md2":{const{MD2Loader:t}=await s.e(433).then(s.bind(s,8433)),i=(new t).parse(e.content),n=new T.Wid,o=new T.Kj0(i,n);o.mixer=new T.Xcj(o),o.name=e.name,o.animations.push(...i.animations),vt(o,Mt.callbacks);break}case"pcd":{const t=e.content,{PCDLoader:i}=await s.e(38).then(s.bind(s,6038)),n=(new i).parse(t);n.name=e.name,vt(n,Mt.callbacks);break}case"ply":{const t=e.content,{PLYLoader:i}=await s.e(349).then(s.bind(s,349)),n=(new i).parse(t);let o;if(null!==n.index){const t=new T.Wid({color:22015,flatShading:!0});o=new T.Kj0(n,t),o.name=e.name}else{const t=new T.UY4({size:.01});t.vertexColors=n.hasAttribute("color"),o=new T.woe(n,t),o.name=e.name}vt(o,Mt.callbacks);break}case"stl":{const t=e.content,{STLLoader:i}=await s.e(508).then(s.bind(s,508)),n=(new i).parse(t),o=new T.Wid,a=new T.Kj0(n,o);a.name=e.name,vt(a,Mt.callbacks);break}case"svg":{const t=bt(e.content),{SVGLoader:i}=await s.e(449).then(s.bind(s,7449)),n=new i,o=n.parse(t).paths,a=new T.ZAu;a.scale.multiplyScalar(.1),a.scale.y*=-1;for(let e=0;e<o.length;e++){const t=o[e],s=new T.vBJ({color:t.color,depthWrite:!1}),n=i.createShapes(t);for(let e=0;e<n.length;e++){const t=n[e],i=new T.oa8(t),o=new T.Kj0(i,s);a.add(o)}}vt(a,Mt.callbacks);break}case"usdz":{const t=e.content,{USDZLoader:i}=await s.e(812).then(s.bind(s,2812)),n=(new i).parse(t);n.name=e.name,vt(n,Mt.callbacks);break}case"vox":break;case"vtk":case"vtp":break;case"wrl":break;case"xyz":break;case"zip":console.log(e,"file in zip "),Lt(e.content);break;default:break}}catch(a){console.error("THREE.WebGLState:",a),this.callbacks.onLoadError(a)}}}async function Lt(e){console.log(e,"contents in handlezip");const t=(0,wt.GZ)(new Uint8Array(e));console.log(t,"zip11111");const i=[],n=new Map;let o="";for(const s in t){const e=t[s];-1!==s.indexOf(".")&&(o=s.split("/")[0],i.push(s.split("/")[1]),n.set(s.split("/")[1],e))}console.log(n,"map22222");const a=new T.lLk;if(a.setURLModifier((e=>{console.log(e,"url in 111111"),e=e.replace(/^(\.?\/)/,"");const t=n.get(e);if(t){console.log("Loading in zip",e);const s=new Blob([t.buffer],{type:"application/octet-stream"});return URL.createObjectURL(s)}return e})),n.get(`${o}.obj`)&&n.get(`${o}.mtl`)){const{MTLLoader:e}=await s.e(651).then(s.bind(s,2651)),{OBJLoader:t}=await s.e(949).then(s.bind(s,3949)),i=new e(a).parse((0,wt.T8)(n.get(`${o}.mtl`))),l=(new t).setMaterials(i).parse((0,wt.T8)(n.get(`${o}.obj`)));vt(l,Mt.callbacks)}for(const l in t){const e=t[l],i=l.split(".").pop().toLowerCase();switch(i){case"3ds":{const{TDSLoader:t}=await s.e(946).then(s.bind(s,1946)),i=new t(a),n=i.parse(e.buffer);console.log(n,"object in 3ds"),vt(n,Mt.callbacks)}case"fbx":{const{FBXLoader:t}=await s.e(375).then(s.bind(s,375)),i=new t(a),n=i.parse(e.buffer);vt(n,Mt.callbacks);break}case"glb":{const{DRACOLoader:t}=await s.e(539).then(s.bind(s,539)),{GLTFLoader:i}=await s.e(225).then(s.bind(s,7225)),n=new t;n.setDecoderPath("/libs/loaders//draco/gltf/");const o=new i;o.setDRACOLoader(n),o.parse(e.buffer,"",(e=>{const t=e.scene;t.animations.push(...e.animations),vt(t,Mt.callbacks)}))}case"gltf":{const{DRACOLoader:t}=await s.e(539).then(s.bind(s,539)),{GLTFLoader:i}=await s.e(225).then(s.bind(s,7225)),n=new t;n.setDecoderPath("/libs/loaders/gltf/");const o=new i(a);o.setDRACOLoader(n),o.parse((0,wt.T8)(e),"",(e=>{const t=e.scene;t.animations.push(...e.animations),vt(t,Mt.callbacks)}));break}}}}function St(e,t){async function s(e,t){let i=e.createReader();return new Promise(((e,n)=>{i.readEntries((async i=>{for(let e of i)e.isFile?t.push(e):e.isDirectory&&await s(e,t);e()}),(e=>{n(e)}))}))}async function i(e,t){let i=[];for(let o of e)o.isFile?i.push(o):o.isDirectory&&await s(o,i);let n=await Promise.all(i.map((e=>new Promise(((t,s)=>{e.file((e=>{t(e)}),(e=>{s(e)}))})))));t(n)}console.log(e,"dataTransfe-GetFilesFromDataTransfer"),console.log(t,"onReady");let n=null;if(DataTransferItem&&(DataTransferItem.prototype.getAsEntry?n=DataTransferItem.prototype.getAsEntry:DataTransferItem.prototype.webkitGetAsEntry&&(n=DataTransferItem.prototype.webkitGetAsEntry)),null!==n){let s=[];for(let t of e.items){let e=n.call(t);null!==e&&s.push(e)}i(s,(e=>{t(e)}))}else t(e.files)}class Ot{constructor(e){console.log(e,"websitein showedge"),this.viewer=e.viewer,this.mainObject=e.model,console.log(this.mainObject," this.mainObject in ShowEdge"),this.mainEdgeObject=null,this.edgeSettings={showEdges:!1,edgeColor:new le(0,0,0),edgeThreshold:1}}UpdateWorldMatrix(){null!==this.mainObject&&this.mainObject.updateWorldMatrix(!0,!0)}EnumerateMeshes(e){console.log(this.mainObject,"this.mainObject in modeltool"),null!==this.mainObject&&this.mainObject.traverse((t=>{t.isMesh&&e(t)}))}EnumerateEdges(e){null!==this.mainEdgeObject&&this.mainEdgeObject.traverse((t=>{t.isLineSegments&&e(t)}))}SetEdgeSettings(e,t,s,i){this.mainObject=e,console.log(t,s,i,"show, color, threshold");let n=!1;!t||this.edgeSettings.showEdges&&this.edgeSettings.edgeThreshold===i||(n=!0),this.edgeSettings.showEdges=t,this.edgeSettings.edgeThreshold=i,this.edgeSettings.edgeColor=s,console.log(this.mainObject,"this.mainObject222222"),console.log(this.edgeSettings,"this.edgeSettings"),null!==this.mainObject&&(this.edgeSettings.showEdges?(this.ClearMainEdgeObject(),this.GenerateMainEdgeObject()):this.ClearMainEdgeObject())}GenerateMainEdgeObject(){console.log(this.mainObject,"this.mainObject1111");let e=ne(this.edgeSettings.edgeColor);console.log(e,"edgeColor"),this.mainEdgeObject=new T.Tme,this.UpdateWorldMatrix(),this.EnumerateMeshes((e=>{let t=new T.TOt(e.geometry,this.edgeSettings.edgeThreshold),s=new T.ejS(t,new T.nls({color:"blue"}));s.applyMatrix4(e.matrixWorld),s.userData=e.userData,s.visible=e.visible,this.mainEdgeObject.add(s)})),console.log(this.mainEdgeObject,"this.mainEdgeObject2"),console.log(this.viewer,"this.viewer"),this.viewer.scene.add(this.mainEdgeObject),console.log(this.mainEdgeObject,"this.mainEdgeObject3")}ClearMainEdgeObject(){console.log(this.mainEdgeObject,"this.mainEdgeObject1"),null!==this.mainEdgeObject&&(this.EnumerateMeshes((e=>{})),this.EnumerateEdges((e=>{e.geometry.dispose()})),this.viewer.scene.remove(this.mainEdgeObject),this.mainEdgeObject=null)}}const jt={Light:1,Dark:2};class xt{constructor(){this.showEdges=!0,this.edgeColor=new le(25,25,112),this.edgeThreshold=0,this.themeId=jt.Light,this.environmentMapName="fishermans_bastion",this.backgroundIsEnvMap=!0,this.sceneColor=12571109,this.angle=50,this.nearest=1,this.farthest=3e4,this.backgroundColor=new re(255,255,255,255),console.log(this.backgroundColor," this.backgroundColor in settings")}}class Et{constructor(){this.css={"--ov_toolbar_background_color":{}};let e=document.querySelector(":root");console.log(e,"root in theme");let t=window.getComputedStyle(e);for(let s in this.css)Object.prototype.hasOwnProperty.call(this.css,s)&&(console.log(s,"property"),this.css[s].light=t.getPropertyValue(s),this.css[s].dark=t.getPropertyValue(s+"_dark"))}SwitchTheme(e){let t=null;if(e===jt.Light)t="light";else{if(e!==jt.Dark)return;t="dark"}let s=document.querySelector(":root");for(let i in this.css)if(Object.prototype.hasOwnProperty.call(this.css,i)){let e=this.css[i][t];void 0!==e&&(s.style.setProperty(i,e),console.log(i,"SwitchTheme-property"),console.log(e,"SwitchTheme-value"))}}}const It=1e-4,Ft=57.29577951308232;function Pt(e,t,s){return Math.abs(t-e)<s}function Gt(e){let t=new T.yGw;e.object.updateWorldMatrix(!0,!1),t.extractRotation(e.object.matrixWorld);let s=e.face.normal.clone();return s.applyMatrix4(t),s}function At(e,t){const s=e.GetIntersection(),i=t.GetIntersection();let n={pointsDistance:null,parallelFacesDistance:null,facesAngle:null};const o=Gt(s),a=Gt(i);if(n.pointsDistance=s.point.distanceTo(i.point),n.facesAngle=o.angleTo(a),Pt(n.facesAngle,0,It)||Pt(n.facesAngle,Math.PI,It)){let e=(new T.JOQ).setFromNormalAndCoplanarPoint(o,s.point);n.parallelFacesDistance=Math.abs(e.distanceToPoint(i.point))}return n}function Dt(){return new T.nls({color:"red",depthTest:!1})}function Rt(e,t){let s=(new T.u9r).setFromPoints(e);return new T.x12(s,t)}class Tt{constructor(e,t){this.intersection=null,this.markerObject=new T.Tme;let s=Dt(),i=new T.Ny0(0,0,t,t,0,2*Math.PI,!1,0);this.markerObject.add(Rt(i.getPoints(50),s)),this.markerObject.add(Rt([new T.Pa4(-t,0,0),new T.Pa4(t,0,0)],s)),this.markerObject.add(Rt([new T.Pa4(0,-t,0),new T.Pa4(0,t,0)],s)),this.UpdatePosition(e)}UpdatePosition(e){this.intersection=e;let t=Gt(this.intersection);this.markerObject.updateMatrixWorld(!0),this.markerObject.position.set(0,0,0),this.markerObject.lookAt(t),this.markerObject.position.set(this.intersection.point.x,this.intersection.point.y,this.intersection.point.z)}GetObject(){return this.markerObject}GetIntersection(){return this.intersection}Show(e){this.markerObject.visible=e}}class Ut{constructor(e,t){console.log(e,"viewer in MeasureTool"),this.viewer=e,this.settings=t,this.isActive=M.state.measure.isActive,this.markers=[],this.tempMarker=null,this.panel=null,this.info=""}IsActive(){return M.state.measure.isActive}SetActive(e){M.commit("measure/IsActive",e),M.state.measure.isActive?this.UpdatePanel():this.ClearMarkers()}Click(e){let t=this.viewer.GetMeshIntersectionUnderMouse(e);if(console.log(t,"intersection in Click"),null===t)return this.ClearMarkers(),void this.UpdatePanel();2===this.markers.length&&this.ClearMarkers(),this.AddMarker(t),this.UpdatePanel()}MouseMove(e){let t=this.viewer.GetMeshIntersectionUnderMouse(e);null!==t?(null===this.tempMarker&&(this.tempMarker=this.GenerateMarker(t)),this.tempMarker.UpdatePosition(t),this.tempMarker.Show(!0)):null!==this.tempMarker&&this.tempMarker.Show(!1)}UpdatePanel(){if(0===this.markers.length)M.commit("measure/AddInfo","选择一个点"),M.commit("measure/Reset"),M.commit("measure/ShowMeasureInfo",!1);else if(1===this.markers.length)M.commit("measure/AddInfo","选择另一个点"),M.commit("measure/Reset"),M.commit("measure/ShowMeasureInfo",!1);else{M.commit("measure/ShowMeasureInfo",!0);let e=At(this.markers[0],this.markers[1]);if(null!==e.pointsDistance&&(this.info="measure_distance",M.commit("measure/AddPointsDistance",e.pointsDistance.toFixed(3)),console.log(e.pointsDistance.toFixed(3),"measure_distance")),null!==e.parallelFacesDistance&&(this.info="measure_distance_parallel",M.commit("measure/AddDistanceParallel",e.parallelFacesDistance.toFixed(3)),console.log(e.parallelFacesDistance.toFixed(3),"measure_distance_parallel")),null!==e.facesAngle){this.info="measure_angle";let t=e.facesAngle*Ft;M.commit("measure/AddAngel",t.toFixed(1)+"°"),console.log(t.toFixed(1)+"°","measure_angle")}}}Resize(){if(!this.isActive)return;let e=this.viewer.GetCanvas(),t=e.getBoundingClientRect(),s=this.panel.getBoundingClientRect(),i=t.right-t.left,n=s.right-s.left;this.panel.style.left=t.left+(i-n)/2+"px",this.panel.style.top=t.top+10+"px"}AddMarker(e){let t=this.GenerateMarker(e);if(console.log(t,"marker in addMarker"),this.markers.push(t),2===this.markers.length){let e=Dt(),t=this.markers[0].GetIntersection().point,s=this.markers[1].GetIntersection().point;this.viewer.AddExtraObject(Rt([t,s],e))}}GenerateMarker(e){console.log(e,"intersection in GenerateMarker");let t=this.viewer.GetBoundingSphere((e=>!0)),s=t.radius/20,i=new Tt(e,s);return console.log(i,"marker in GenerateMarker"),this.viewer.AddExtraObject(i.GetObject()),i}ClearMarkers(){this.viewer.ClearExtra(),this.markers=[],this.tempMarker=null}}var zt=s(3271);const Bt=document.createElement("a");function Nt(e,t){Bt.href=URL.createObjectURL(e),Bt.download=t,Bt.click()}function Vt(e,t){Nt(new Blob([e],{type:"text/plain"}),t)}function Wt(e,t){Nt(new Blob([e],{type:"application/octet-stream"}),t)}let Ht,Zt;function Yt(){document.body.appendChild(Ht)}function Kt(){document.body.removeChild(Ht)}function Qt(e){}Bt.style.display="none",document.body.appendChild(Bt);const Jt={Undefined:0,Intro:1,Model:2,Loading:3};new T.nls({color:16777215}),new T.YBo({side:T.ehD}),new T.xoR({color:5592405,specular:16777215,shininess:10,flatShading:!1,side:T.ehD,skinning:!0}),new T.jyz({uniforms:{p:{type:"f",value:3},glowColor:{type:"c",value:new T.Ilk(8703231)}},side:T.ehD,blending:T.WMw,transparent:!0,depthWrite:!1});let Xt=!0;class _t extends ve{constructor(e){super(),this.signals={},this.parameters=e,this.settings=new xt,this.viewer=new Ge(this.parameters.viewerDiv,this.parameters.view2,this.settings,this);let t=D(this.parameters.viewerDiv,"canvas");console.log(t,"canvas11111"),this.viewer.Init(t),this.uiState=Jt.Undefined,this.hashHandler=new ze,this.modelLoaderUI=new ht,this.loader=new kt(this,this.viewer),this.themeHandler=new Et,this.measureTool=new Ut(this.viewer,this.settings),this.model=null,this.cloneModel=null,this.showEdge=new Ot(this),this.edgeVal=null,Ht=document.createElement("div"),Ht.style.position="absolute",Ht.style.top="0",Ht.style.opacity="0.8",Ht.style.width="100%",Ht.style.height="100%",Ht.style.display="flex",Ht.style.alignItems="center",Ht.style.justifyContent="center",Ht.style.background="#616161",Zt=document.createElement("img"),Zt.src="static/images/loading.gif",Zt.style.width="200px",Zt.style.height="200px",Ht.appendChild(Zt)}start(e){this.dispatchEvent({type:"start",message:"blas val change"+e})}Load(e){let t=Ue();console.log(t,"builder"),t.AddBackgroundColor(this.settings.backgroundColor);let s=this.hashHandler.GetBackgroundFromHash();null!==s&&this.viewer.outline.SetBackgroundColor(s);let i=this.hashHandler.GetCameraFromHash();null!==i&&console.log(i,"camera in load"),this.edgeVal=e,this.UpdateEnvironmentMap(),this.viewer.SetMouseClickHandler(this.OnModelClicked.bind(this)),this.viewer.SetMouseMoveHandler(this.OnModelMouseMoved.bind(this)),this.InitDragAndDrop(),this.Resize(),window.addEventListener("resize",(()=>{this.Resize()})),this.hashHandler.SetEventListener(this.OnHashChange.bind(this)),this.OnHashChange()}InitDragAndDrop(){window.addEventListener("dragstart",(e=>{e.preventDefault()}),!1),window.addEventListener("dragover",(e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}),!1),window.addEventListener("drop",(e=>{if(e.stopPropagation(),e.preventDefault(),Xt){if("text/plain"===event.dataTransfer.types[0])return;event.dataTransfer.items&&this.loader.loadItemList(event.dataTransfer.items,{onLoadStart:()=>{this.ClearModel(),M.dispatch("app/showLoading",!0),console.log("Loading Model start"),Qt(0),Yt()},onFileListProgress:(e,t)=>{console.log(e,t," onFileListProgress")},onFileLoadProgress:(e,t)=>{console.log(e,t," onFileLoadProgress"),Qt(e/t),console.log(Math.round(e/t*100,2)+"% downloaded")},onSelectMainFile:()=>{},onImportStart:()=>{},onVisualizationStart:()=>{},onModelFinished:e=>{this.OnModelLoaded(e),M.dispatch("app/showLoading",!1),Kt(),this.ClearHashIfNotOnlyUrlList()},onTextureLoaded:()=>{},onLoadError:e=>{Ht.innerText=e}})}else St(e.dataTransfer,(e=>{e.length>0&&(Qe("model_load_started","drop"),this.LoadModelFromFileList(e))}))}),!1)}OnHashChange(){if(this.hashHandler.HasHash()){let e=this.hashHandler.GetModelFilesFromHash();if(null===e)return;Qe("model_load_started","hash");let t={};this.LoadModelFromUrlList(e,t)}}LoadModelFromUrlList(e,t){if(console.log(e,"urls in  LoadModelFromUrlList"),Xt)this.loader.loadItemUrls(e,{onLoadStart:()=>{this.ClearModel(),M.dispatch("app/showLoading",!0),Qt(0),Yt(),console.log("Loading Model start")},onFileListProgress:(e,t)=>{console.log(e,t," onFileListProgress")},onFileLoadProgress:(e,t)=>{console.log(e,t," onFileLoadProgress"),Qt(e/t),console.log(Math.round(e/t*100,2)+"% downloaded")},onSelectMainFile:()=>{},onImportStart:()=>{},onVisualizationStart:()=>{},onModelFinished:e=>{this.OnModelLoaded(e),Kt(),M.dispatch("app/showLoading",!1),this.ClearHashIfNotOnlyUrlList()},onTextureLoaded:()=>{},onLoadError:e=>{const t="Error loading model";Ht.innerText=t,console.log(t),console.error(e)}});else{let s=nt(e);console.log(s,"inputFiles in hash"),this.LoadModelFromInputFiles(s,t)}}LoadModelFromFileList(e){let t={},s=ot(e);console.log(s,"inputFiles in drag"),this.LoadModelFromInputFiles(s,t)}LoadModelFromInputFiles(e,t){this.modelLoaderUI.LoadModel(e,t,{onStart:()=>{},onFinish:()=>{},onRender:()=>{},onError:()=>{}})}ClearHashIfNotOnlyUrlList(){}SetUIState(e){this.uiState!==e&&(this.uiState=e,this.uiState===Jt.Intro||(this.uiState===Jt.Model?I(this.parameters.mainDiv,!0):(this.uiState,Jt.Loading)),this.Resize())}OnModelClicked(e,t){this.viewer.outline.Click(t),console.log(e,t,"mouseCoordinates in OnModelClicked"),1===e&&this.measureTool.IsActive()&&this.measureTool.Click(t)}OnModelMouseMoved(e){this.measureTool.IsActive()&&this.measureTool.MouseMove(e)}OnModelLoaded(e){console.log(e,"加载得模型"),e.traverse((e=>{if(e instanceof T.Kj0){const t=e.material;if(console.log(t,"material22222"),t.map){const e=t.map;console.log(e,"texture333333");const s=e.image;console.log(s,"image4444444")}}if(e.isMesh){const t=e.material;console.log(t,"material111111")}})),console.log(e,"threeObject in OnModelLoaded"),M.commit("app/ADD_MODEL",e),this.model=e,this.cloneModel=e,this.viewer.SetMainObject(e),be(e),this.FitModelToWindow(!0),this.UpdateEdgeDisplay(!1),M.commit("app/IF_SHOW_EDGE",!1),M.commit("app/CHANGE_EDGE_VAL",100)}FitModelToWindow(e){let t=!e,s=this.viewer.GetBoundingSphere((e=>(console.log(e,"meshUserData"),!0)));console.log(s,"boundingSphere"),e&&this.viewer.AdjustClippingPlanesToSphere(s),this.viewer.FitSphereToWindow(s,t)}ClearModel(){this.model=null,M.commit("app/RESET_MODEL"),this.viewer.Clear(),console.log(this.showEdge.mainEdgeObject,"in ClearModel")}OnSmallWidthChanged(){}UpdatePanelsVisibility(){let e=!1,t=!1;this.navigator.ShowPanels(e),this.sidebar.ShowPanels(t)}Resize(){this.viewer.Resize()}SwitchTheme(e,t){console.log(e,"newThemeId in SwitchTheme"),this.settings.themeId=e,this.themeHandler.SwitchTheme(this.settings.themeId)}UpdateEdgeDisplay(e,t=40){this.settings.showEdges=e,this.settings.edgeThreshold=e?t:0,this.showEdge.SetEdgeSettings(this.model,this.settings.showEdges,this.settings.edgeColor,this.settings.edgeThreshold)}onEnvironmentMapChange(){this.UpdateEnvironmentMap()}UpdateEnvironmentMap(){let e="static/envmaps/"+this.settings.environmentMapName+"/",t=[e+"posx.jpg",e+"negx.jpg",e+"posy.jpg",e+"negy.jpg",e+"posz.jpg",e+"negz.jpg"];this.viewer.SetEnvironmentMapSettings(t,this.settings.backgroundIsEnvMap)}Blast(e,t){we(e,t)}Measure(e){this.measureTool.SetActive(e),M.commit("measure/IsActive",e)}exportGltf(){let e=(new Date).getTime();var t=new zt.M;const s={binary:!1,embedImages:!0,includeCustomExtensions:!0};t.parse(this.model,(function(t){if(console.log(t,"result111212"),t instanceof ArrayBuffer)Wt(t,"scene.glb");else{const e=JSON.stringify(t,null,2);console.log(e),Vt(e,"scene.gltf")}const s=(new Date).getTime(),i=s-e,n=Math.round(i/1e3);console.log("任务开始时间：",e),console.log("任务结束时间：",s),console.log("时间差（秒）：",n)}),(function(e){console.log("An error happened during parsing",e)}),s)}}let qt=null;new Set;function $t(e){qt=e}function es(e){Ke(e)}function ts(e,t){$t(e);const s=new _t({viewerDiv:document.getElementById("main_viewer")});return s.Load(t),s}function ss(e){window.innerWidth===screen.width&&window.innerHeight===screen.height||window.fullScreen?ns():is(e)}function is(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():os()}function ns(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():this.noFullscreenSupport()}function os(){alert("Your browser does not support the Fullscreen API.")}i["default"].use(d.ZP);new d.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});var as={name:"ModelEngine",props:{width:{type:String,default:"500"},height:{type:String,default:"500"}},data(){return{num:0,website:null,wanggeValue:!1,rotationValue:!1,showSlider:!0,slideValue:0,btns:["默认","深色","浅色"],envMaps:[{name:"清空",url:"static/envmaps/noimage.jpg",backgroundIsEnvMap:!1},{name:"teide",url:"static/envmaps/teide/posx.jpg",backgroundIsEnvMap:!0}],tabIndex:0,wanggeBtn:!1,dragMeshBtn:!1,yincangBtn:!1,duxianBtn:!1,toumingBtn:!1,fullScreenBtn:!0,celiangBtn:!1,ifplay:!1,hasAnimation:!0,isActive:!1}},computed:{...(0,d.rn)({model:e=>e.app.model,showLoading:e=>e.app.showLoading,ifduxian:e=>e.app.duxian,ifwangge:e=>e.app.wangge,iftouming:e=>e.app.touming,ifyidong:e=>e.app.yidong,ifyincang:e=>e.app.yincang,info:e=>e.measure.info,pointsDistance:e=>e.measure.pointsDistance,parallelFacesDistance:e=>e.measure.parallelFacesDistance,facesAngle:e=>e.measure.facesAngle,MeasureisActive:e=>e.measure.isActive,showMeasureIInfo:e=>e.measure.showMeasureIInfo}),blastVal:{get(){return this.$store.state.app.blastVal},set(e){this.$store.state.app.blastVal=e}},edgeVal:{get(){return this.$store.state.app.edgeVal},set(e){this.$store.commit("app/CHANGE_EDGE_VAL",e)}},ifShowEdge:{get(){return this.$store.state.app.ifShowEdge},set(e){this.$store.state.app.ifShowEdge=e}},hasAnimate(){return this.num++,console.log(this.num,"执行次数"),null!==this.$store.state.app.model&&this.$store.state.app.model.hasOwnProperty("animations")?this.$store.state.app.model.animations.length:0},...(0,d.Se)(["getBlastVal"])},watch:{blastVal:{handler(e,t){console.log(e,t,"in watch")},deep:!0,immediate:!0}},methods:{exportGltf(){this.website.exportGltf()},async nativePick(e){const t=e?e.target.value:null;if(t)console.log("获得颜色: "+t);else{const t=new window.EyeDropper;console.log("按Esc可退出");try{const e=await t.open();console.log("获得颜色: "+e.sRGBHex)}catch(e){console.log("用户取消了取色")}}},down(e){console.log(e,"event111333311"),alert("down")},move(e){console.log(e,"event11111"),alert("move")},up(){alert("up")},switchleft(){this.isActive=!this.isActive},changeWange(e){this.wanggeValue=e,this.website.viewer.outline.setWireFrame(this.wanggeValue,this.website.model)},Wange(){this.website.viewer.outline.setWireFrame(!this.$store.state.app.wangge,this.website.model)},changeDuxian(){this.website.viewer.outline.duxian(this.website.model,!this.$store.state.app.duxian)},Duxian(){this.website.viewer.outline.duxian(this.website.model,!this.$store.state.app.duxian)},changeTouming(){this.toumingBtn=!this.toumingBtn,this.website.viewer.outline.touming(this.website.model,this.toumingBtn)},changeTouming2(){this.toumingBtn=!this.toumingBtn,this.website.viewer.outline.touming(this.website.model,!0)},Touming(){this.$store.state.app.yincang&&this.$store.commit("app/YIN_CANG",!1),this.website.viewer.outline.touming(this.website.model,!this.$store.state.app.touming)},changeYincang(){this.website.viewer.outline.yincang(this.website.model,!0)},Yincang(){this.$store.state.app.touming&&this.$store.commit("app/TOU_MING",!1),this.website.viewer.outline.yincang2(this.website.model,!this.$store.state.app.yincang)},dragMesh(){this.dragMeshBtn=!this.dragMeshBtn,this.dragMeshBtn,this.website.viewer.outline.dragMesh(this.website.model,this.dragMeshBtn)},resetDragMesh(){this.dragMeshBtn=!1,this.website.wireFrame.resetDragMesh(this.website.model)},dragMeshs(){this.dragMeshBtn=!this.dragMeshBtn,this.website.wireFrame.dragMeshs(this.dragMeshBtn,this.website.model)},Yidong(){this.website.viewer.outline.dragMesh(this.website.model,!this.$store.state.app.yidong)},changeEdge(){this.website.UpdateEdgeDisplay(this.$store.state.app.ifShowEdge,this.$store.state.app.edgeVal)},backgroundTabClick(e){this.tabIndex=e,this.website.viewer.outline.SetbackgroundColor(e)},SetEnvironment(e,t){this.website.viewer.outline.SetEnvironment(e,t)},blastChange(e){console.log(this,"this in blastChange"),this.website.viewer.outline.Blast(this.website.model,e)},edgeChange(e){this.website.viewer.outline.Edge(this.website.model,e)},autoRotation(e){this.rotationValue=e,this.website.viewer.outline.rotation(this.rotationValue)},PlayPause(){this.ifplay=!this.ifplay,this.ifplay?(Oe(this.website.model),je(this.website.model),xe(this.website.model.animations)):Ee()},reset(){this.website.viewer.outline.reset(this.website.model)},fullScreen(e){this.fullScreenBtn=!this.fullScreenBtn,e.preventDefault();let t=document.getElementById("model-wrapper");ss(t)},celiang(){this.website.Measure(!this.$store.state.MeasureisActive)},handleMessage(e){console.log(e,"event in handleMessage")}},mounted(){es(((e,t,s)=>{console.log({eventName:e,eventLabel:t,eventParams:s})})),this.website=ts("../libs",this.$store.state.app.edgeVal),console.log(this.website.model,"this.website.model"),setTimeout((()=>{console.log(this.website.model,"this.website.model1")}),40),console.log(this.$store.state.app.model,"this.$store"),window.addEventListener("message",this.handleMessage)}},ls=as,rs=(0,r.Z)(ls,S,O,!1,null,"db03e9da",null),cs=rs.exports;const hs=[cs],ds=function(e){hs.forEach((t=>{e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&ds(window.Vue);var us={install:ds};i["default"].config.productionTip=!1,i["default"].use(us),i["default"].use(L()),new i["default"]({store:M,render:e=>e(h)}).$mount("#app")},1626:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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"}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i](o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,i,n,o){if(!i){var a=1/0;for(h=0;h<e.length;h++){i=e[h][0],n=e[h][1],o=e[h][2];for(var l=!0,r=0;r<i.length;r++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(l=!1,o<a&&(a=o));if(l){e.splice(h--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[i,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,i){return s.f[i](e,t),t}),[]))}}(),function(){s.u=function(e){return"static/js/"+e+"."+{24:"83c699a0",38:"5ed37547",225:"96a64ae5",349:"0e912235",375:"72a335b7",383:"80d0254f",413:"184868f8",433:"41354027",449:"9debc52b",508:"11a97107",539:"39d38a04",651:"c7636e4c",669:"f530bb65",744:"7be119c8",812:"5f5f25cb",907:"295e0dce",946:"ab369bab",949:"2b2dd26e",974:"c7411cce"}[e]+".js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="three-model-viewer:";s.l=function(i,n,o,a){if(e[i])e[i].push(n);else{var l,r;if(void 0!==o)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(r=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+o),l.src=i),e[i]=[n];var u=function(t,s){l.onerror=l.onload=null,clearTimeout(g);var n=e[i];if(delete e[i],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(e){return e(s)})),t)return t(s)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=u.bind(null,l.onerror),l.onload=u.bind(null,l.onload),r&&document.head.appendChild(l)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p=""}(),function(){var e={826:0};s.f.j=function(t,i){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise((function(s,i){n=e[t]=[s,i]}));i.push(n[2]=o);var a=s.p+s.u(t),l=new Error,r=function(i){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}};s.l(a,r,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,a=i[0],l=i[1],r=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(r)var h=r(s)}for(t&&t(i);c<a.length;c++)o=a[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(h)},i=self["webpackChunkthree_model_viewer"]=self["webpackChunkthree_model_viewer"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(2779)}));i=s.O(i)})();